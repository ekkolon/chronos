<div class="chron-timeline-viewport" chronViewport>
  <div
    [style.top.px]="layoutStartOffset"
    [style.bottom.px]="layoutEndOffset"
    class="chron-timeline-records"
  >
    <ng-container *ngFor="let group of layout?.segmentGroups">
      <div
        class="chron-timeline-record"
        *ngFor="let segment of group.segments"
        [style.transform]="segment.transform"
      >
        <div class="point">
          <div class="point-tracker"></div>
        </div>
      </div>

      <div class="chron-timeline-record" [style.transform]="group.first.transform">
        <div class="date">{{ group.year }}</div>
      </div>
    </ng-container>
  </div>

  <chron-timeline-cursor-trackbar
    *ngIf="isCursorVisible()"
    [orientation]="orientation"
    [position]="cursorTrackbarPosition()"
  ></chron-timeline-cursor-trackbar>

  <chron-timeline-position-indicator
    [orientation]="orientation"
    [position]="currentPosition()"
  ></chron-timeline-position-indicator>

  <chron-timeline-label
    [orientation]="orientation"
    [position]="labelPosition()"
    [displayText]="labelDisplayText() | date: 'MMM y'"
  ></chron-timeline-label>
</div>
